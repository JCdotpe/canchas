<?php 

//CAP 2

$C2P201 = array(
	'name'	=> 'C2P201',
	'id'	=> 'C2P201',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P201A = array(
	'name'	=> 'C2P201A',
	'id'	=> 'C2P201A',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P202 = array(
	'name'	=> 'C2P202',
	'id'	=> 'C2P202',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P202A = array(
	'name'	=> 'C2P202A',
	'id'	=> 'C2P202A',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P203 = array(
	'name'	=> 'C2P203',
	'id'	=> 'C2P203',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P203A = array(
	'name'	=> 'C2P203A',
	'id'	=> 'C2P203A',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P204 = array(
	'name'	=> 'C2P204',
	'id'	=> 'C2P204',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P205_1 = array(
	'name'	=> 'C2P205_1',
	'id'	=> 'C2P205_1',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_2 = array(
	'name'	=> 'C2P205_2',
	'id'	=> 'C2P205_2',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_3 = array(
	'name'	=> 'C2P205_3',
	'id'	=> 'C2P205_3',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_4 = array(
	'name'	=> 'C2P205_4',
	'id'	=> 'C2P205_4',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_5 = array(
	'name'	=> 'C2P205_5',
	'id'	=> 'C2P205_5',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_6 = array(
	'name'	=> 'C2P205_6',
	'id'	=> 'C2P205_6',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_7 = array(
	'name'	=> 'C2P205_7',
	'id'	=> 'C2P205_7',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_8 = array(
	'name'	=> 'C2P205_8',
	'id'	=> 'C2P205_8',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P205_8OBS = array(
	'name'	=> 'C2P205_8OBS',
	'id'	=> 'C2P205_8OBS',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P206_1 = array(
	'name'	=> 'C2P206_1',
	'id'	=> 'C2P206_1',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P206_2 = array(
	'name'	=> 'C2P206_2',
	'id'	=> 'C2P206_2',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P206_3 = array(
	'name'	=> 'C2P206_3',
	'id'	=> 'C2P206_3',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P206_4 = array(
	'name'	=> 'C2P206_4',
	'id'	=> 'C2P206_4',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P206_5 = array(
	'name'	=> 'C2P206_5',
	'id'	=> 'C2P206_5',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P206_5OBS = array(
	'name'	=> 'C2P206_5OBS',
	'id'	=> 'C2P206_5OBS',
	'maxlength'	=> 50,
	'class' => 'form-control',
);


$C2P207 = array(
	'name'	=> 'C2P207',
	'id'	=> 'C2P207',
	'maxlength'	=> 1,
	'class' => 'form-control',
);


$C2P207_OBS = array(
	'name'	=> 'C2P207_OBS',
	'id'	=> 'C2P207_OBS',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P208 = array(
	'name'	=> 'C2P208',
	'id'	=> 'C2P208',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P208_OBS = array(
	'name'	=> 'C2P208_OBS',
	'id'	=> 'C2P208_OBS',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P209_ANIO = array(
	'name'	=> 'C2P209_ANIO',
	'id'	=> 'C2P209_ANIO',
	'maxlength'	=> 2,
	'class' => 'form-control',
);

$C2P209_MES = array(
	'name'	=> 'C2P209_MES',
	'id'	=> 'C2P209_MES',
	'maxlength'	=> 2,
	'class' => 'form-control',
);
$C2P209_DIA = array(
	'name'	=> 'C2P209_DIA',
	'id'	=> 'C2P209_DIA',
	'maxlength'	=> 2,
	'class' => 'form-control',
);
$C2P210 = array(
	'name'	=> 'C2P210',
	'id'	=> 'C2P210',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P211 = array(
	'name'	=> 'C2P211',
	'id'	=> 'C2P211',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P212 = array(
	'name'	=> 'C2P212',
	'id'	=> 'C2P212',
	'maxlength'	=> 1,
	'class' => 'form-control',
);

$C2P212_OBS = array(
	'name'	=> 'C2P212_OBS',
	'id'	=> 'C2P212_OBS',
	'maxlength'	=> 50,
	'class' => 'form-control',
);

$C2P213 = array(
	'name'	=> 'C2P213',
	'id'	=> 'C2P213',
	'maxlength'	=> 2,
	'class' => 'form-control',
);

$C2P214 = array(
	'name'	=> 'C2P214',
	'id'	=> 'C2P214',
	'maxlength'	=> 2,
	'class' => 'form-control',
);
//////////////////////////////////////////////////////////////////////// 


//FIN CAP 2




$attr = array('class' => 'form-vertical form-auth','id' => 'cap2_f');

echo form_open($this->uri->uri_string(),$attr); 



echo '

<div class="panel panel-info row">

	<div class="panel-heading">
		<h5 class="panel-title">200. Características de la Postulación a BECA 18</h5>
	</div>

	<div class="col-md-6">	
				<div class="form-group">				
						<label for="">201. Cual es el nombre de la institución educativa con la que postulaste a Beca 18? </label>
						' . form_input($C2P201) . '<div class="help-block error"></div>
				</div>	
				<div class="form-group">				
						<label for="">201A. ¿Fue <span id="txtC2P201"></span> tu primera opción? </label>
						<p>(1)Si / (2)No</p>
						' . form_input($C2P201A) . '<div class="help-block error"></div>
				</div>	

				<div class="form-group">
						<label for="">202. En que institución educativa te hubiera gustado estudiar?</label>
						' . form_input($C2P202) . '
						<label for="">202A. <span id="txtC2P202"></span> Es una? </label>
						<p>(1)Instituto? / (2)Universidad?</p>
						' . form_input($C2P202A) . '<div class="help-block error"></div>						
				</div>	

				<div class="form-group">
						<label for="">203. ¿Cuál es el nombre de la carrera con la que postulaste a Beca 18? </label>
						' . form_input($C2P203) . '<div class="help-block error"></div>					
				</div>	
				<div class="form-group">
						<label for="">203A. ¿Fue <span id="txtC2P203"></span> tu primera opción? </label>
						<p>(1)Si / (2)No</p>
						' . form_input($C2P203A) . '<div class="help-block error"></div>					
				</div>	

				<div class="form-group">
						<label for="">204. Qué carrera te hubiera gustado estudiar como primera opción?</label>
						' . form_input($C2P204) . '<div class="help-block error"></div>					
				</div>	

				<div class="form-group">
						<label for="">205. Cómo te enteraste del programa BECA 18?</label>
						<table class="table table-condensed" id="emb_table">
					              <thead>
					               <tr>
					                 <th class="span3"></th>
					                 <th class="span1"></th>
					                </tr>
					             </thead>
					              <tbody>
					              <tr>
					                 <td>Colegio</td>
					                 <td>' . form_input($C2P205_1) . '<div class="help-block error"></div></td>
					              </tr>  
					               <tr>
					                 <td>Medios de Comunicación(periódico, radio, TV)</td>
					                  <td>' . form_input($C2P205_2) . '<div class="help-block error"></div></td>
					               </tr> 
					              <tr>
					                 <td>Gobierno Regional/Local</td>
					                 <td>' . form_input($C2P205_3) . '<div class="help-block error"></div></td>
					               </tr>
					              <tr>
					                 <td>Familiares/Amigos</td>
					                 <td>' . form_input($C2P205_4) . '<div class="help-block error"></div></td>
					               </tr>
					              <tr>
					                 <td>Postulantes de BECA 18</td>
					                 <td>' . form_input($C2P205_5) . '<div class="help-block error"></div></td>
					               </tr>
					              <tr>
					                 <td>Pagina web PRONABEC</td>
					                 <td>' . form_input($C2P205_6) . '<div class="help-block error"></div></td>
					               </tr>
					              <tr>
					                 <td>Redes Sociales (Facebook, Twitter)</td>
					                 <td>' . form_input($C2P205_7) . '<div class="help-block error"></div></td>
					               </tr>

					              <tr>
					                 <td>Otro</td>
					                 <td>' . form_input($C2P205_8) . '<div class="help-block error"></div></td>
					              </tr>		
					               <tr>
					                  <td>' . form_input($C2P205_8OBS) . '<div class="help-block error"></div>Especifique</td>
					                  <td></td>
					               </tr>			               				               					                					                						               				               					               					               
			              </tbody>
			           </table>					
				</div>	

				<div class="form-group">
						<label for="">206. Antes de conocer el programa BECA 18. Qué pensabas hacer acabando el colegio?</label>
						<table class="table table-condensed" id="emb_table">
					              <thead>
					               <tr>
					                 <th class="span3"></th>
					                 <th class="span1"></th>
					                </tr>
					             </thead>
					              <tbody>
					              <tr>
					                 <td>Dedicarme a Trabajar</td>
					                 <td>' . form_input($C2P206_1) . '<div class="help-block error"></div></td>
					              </tr>  
					               <tr>
					                 <td>Prepararme para ingresar a la Universidad/Instituto</td>
					                  <td>' . form_input($C2P206_2) . '<div class="help-block error"></div></td>
					               </tr> 
					              <tr>
					                 <td>Apoyar a un familiar en su negocio chacra / Labores del hogar (trabajo no remunerado)</td>
					                 <td>' . form_input($C2P206_3) . '<div class="help-block error"></div></td>
					               </tr>
					              <tr>
					                 <td>Inscribirme al servicio militar</td>
					                 <td>' . form_input($C2P206_4) . '<div class="help-block error"></div></td>
					               </tr>
					              <tr>
					                 <td>Otro</td>
					                 <td>' . form_input($C2P206_5) . '<div class="help-block error"></div></td>
					              </tr>		
					               <tr>
					                  <td>' . form_input($C2P206_5OBS) . '<div class="help-block error"></div>Especifique</td>
					                  <td></td>
					               </tr>			               				               					                					                						               				               					               					               
			              </tbody>
			           </table>					
				</div>

				<div class="form-group">
						<label for="">207. ¿Bajo qué modalidad postulante a la Institución Educativa a la cual ingresaste para Beca 18? </label>
						<p>(1)Examen descentralizado (patrocinado por Beca18)? / (2)Examen de admisión ordinario? / (3)Primeros puestos? / (4)Otro? / (5)No hubo examen de admisión? </p>
						' . form_input($C2P207) . '
						<label for="">Especifique</label>
						' . form_input($C2P207_OBS) . '<div class="help-block error"></div>						
				</div>	
	</div>	







	<div class="col-md-6">	
				<h4>Preparación Academica</h4>
				<div class="form-group">
						<label for="">208. ¿Cómo te preparaste para postular a ... </label>
						<p>(1)Por mi cuenta / (2)Academia pre universitaria / (3)Grupo de estudio / (4)Academia talento Beca18 (Huancavelica) / (5)Otro / (6)No me preparé</p>
						' . form_input($C2P208) . '
						<label for="">Especifique</label>
						' . form_input($C2P208_OBS) . '<div class="help-block error"></div>							
				</div>	


				<div class="form-group">
						<label for="">209. Cuanto tiempo te estuviste preparando?</label>
						<div class="row">
							<div class="col-md-4">	
								<p>Años</p>
								' . form_input($C2P209_ANIO) . '<div class="help-block error"></div>	
							</div>		
							<div class="col-md-4">	
								<p>Meses</p>
								' . form_input($C2P209_MES) . '<div class="help-block error"></div>
							</div>		
							<div class="col-md-4">	
								<p>Dias</p>
								' . form_input($C2P209_DIA) . '<div class="help-block error"></div>
							</div>										
						</div>													
				</div>	

				<div class="form-group">
						<label for="">210. Consideras que la preparación que tuviste fue suficiente para el examen de admisión?  </label>
						<p>(1)Si / (2)No</p>
						' . form_input($C2P210) . '	<div class="help-block error"></div>	
				</div>	


				<h4>Orientación o Asistencia Vocacional</h4>

				<div class="form-group">
						<label for="">211. Recibiste algún tipo de orientación o asistencia para elegir la carrera a la que ingresaste para BECA 18?</label>
						<p>(1)Si / (2)No</p>
						' . form_input($C2P211) . '	<div class="help-block error"></div>						
				</div>	

				<div class="form-group">
						<label for="">212. Quién te brindo orientación o asistencia?</label>
						<p>(1)Profesores, tutores de la Institución? / (2)Profesores, tutores de la Universidad? / (3)Familiares? / (4)Amigos? / (5)Otro?</p>
						' . form_input($C2P212) . '
						<label for="">Especifique</label>
						' . form_input($C2P212_OBS) . '<div class="help-block error"></div>							
				</div>	

				<h4>Hábitos de Estudio</h4>

				<div class="form-group">
						<label for="">213. Cuando estabas en 5to de Secundaria. Cuántas horas le dedicabas al estudio de lunes a viernes? (No considere las horas de clase)</label>
						' . form_input($C2P213) . '	Número de horas <div class="help-block error"></div>			
				</div>	

				<div class="form-group">
						<label for="">214. Cuando estabas en 5to de secundaria. Cuántas horas le dedicabas al estudio los sábados y domingos? (No considere las horas de clase)</label>
						' . form_input($C2P214) . '	Número de horas	<div class="help-block error"></div>				
				</div>					
	</div>							
</div>

';

echo form_submit('send', 'Guardar','style="margin-bottom:30px" class="btn btn-primary pull-right"');
echo form_close(); 
?>


<script type="text/javascript">


$(function(){

$(document).on("keyup",'#C2P201',function() {
   $("#txtC2P201").text($(this).val());
});

$(document).on("keyup",'#C2P202',function() {
   $("#txtC2P202").text($(this).val());
});

$(document).on("keyup",'#C2P203',function() {
   $("#txtC2P203").text($(this).val());
});

$('#C2P201A').change(function(event) {
	if($(this).val() == 1){
		i_disable('#C2P202');
		i_disable('#C2P202A');
	}else{
		i_enable('#C2P202');
		i_enable('#C2P202A');
	}
});

$('#C2P203').change(function(event) {
	if($(this).val() == 1){
		i_disable('#C2P204');
	}else{
		i_enable('#C2P204');
	}
});

$('#C2P205_8').change(function(event) {
	if($(this).val() == 1){
		$('#C2P205_8OBS').removeAttr('disabled');
	}else{
		$('#C2P205_8OBS').val('');
		$('#C2P205_8OBS').attr('disabled','disabled');
	}
});

$('#C2P206_5').change(function(event) {
	if($(this).val() == 1){
		$('#C2P206_5OBS').removeAttr('disabled');
	}else{
		$('#C2P206_5OBS').val('');
		$('#C2P206_5OBS').attr('disabled','disabled');
	}
});

$('#C2P207').change(function(event) {
	if($(this).val() == 4){
		$('#C2P207_OBS').removeAttr('disabled');
	}else{
		$('#C2P207_OBS').val('');
		$('#C2P207_OBS').attr('disabled','disabled');
	}
});


$('#C2P207').change(function(event) {
	if($(this).val() == 5){
		i_disable('#C2P208');
		i_disable('#C2P208_OBS');
		i_disable('#C2P209_ANIO');
		i_disable('#C2P209_MES');
		i_disable('#C2P210');
	}else{
		i_enable('#C2P208');
		i_enable('#C2P208_OBS');
		i_enable('#C2P209_ANIO');
		i_enable('#C2P209_MES');
		i_enable('#C2P210');		
	}
});



$('#C2P208').change(function(event) {
	if($(this).val() == 5){
		$('#C2P208_OBS').removeAttr('disabled');
	}else{
		$('#C2P208_OBS').val('');
		$('#C2P208_OBS').attr('disabled','disabled');
	}
});


$('#C2P211').change(function(event) {
	if($(this).val() == 2){
		i_disable('#C2P212');
		i_disable('#C2P212_OBS');
	}else{
		i_enable('#C2P212');
		i_enable('#C2P212_OBS');
	}
});


$('#C2P212').change(function(event) {
	if($(this).val() == 5){
		$('#C2P212_OBS').removeAttr('disabled');
	}else{
		$('#C2P212_OBS').val('');
		$('#C2P212_OBS').attr('disabled','disabled');
	}
});



if(<?php echo $CAP02->num_rows() ?> == 1){

	$.each( <?php echo json_encode($CAP02->row()); ?>, function(fila, valor) {
	    if(fila == 'C2P201'|| fila == 'C2P203'  || fila == 'C2P205_8' || fila == 'C2P206_5' || fila == 'C2P207' || fila == 'C2P208' || fila == 'C2P212'){
			$('#' + fila).val(valor);
			$('#' + fila).trigger('change');	
			if(fila=='C2P201')
			$('#txt' + fila).text(valor);	
			if(fila=='C2P203')
			$('#txt' + fila).text(valor);			
		}else{
			$('#txt' + fila).text(valor);	
			if(fila=='C2P202')			
	        $('#' + fila).val(valor);       
	    }	
	}); 
}


$("#cap2_f").validate({
		    rules: {  
		    	C2P201:{
		    		required:true,
		    	},			    	
		    	C2P201A:{
		    		valrango:[1,2,9],
		    		required:true,
		    	},	
		    	C2P202:{
		    	},		
		    	C2P202A:{
		    		valrango:[1,2,9],
		    	},		
		    	C2P203:{
		    		required:true,
		    	},			    		
		    	C2P203A:{
		    		valrango:[1,2,9],
		    		digits:true,
		    		required:true,		    		
		    	},	
		    	C2P204:{   			    		
		    	},	
		    	C2P205_1:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_2:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_3:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_4:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_5:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_6:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_7:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_8:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},	
		    	C2P205_8OBS:{   	    			
		    	},	

		    	C2P206_1:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},
		    	C2P206_2:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},
		    	C2P206_3:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},
		    	C2P206_4:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},
		    	C2P206_5:{   
		    		range:[0,1],
		    		required:true,				    			
		    	},
		    	C2P206_5OBS:{   	    			
		    	},	
		    	C2P207:{   
		    		valrango:[1,5,9],
		    		required:true,				    			
		    	},
	    		C2P207_OBS:{   	    			
		    	},	
		    	C2P208:{   
		    		valrango:[1,6,9],			    			
		    	},
		    	C2P208_OBS:{   	    			
		    	},	
		    	C2P209_ANIO:{   
		    		valrango:[0,50,99],			    			
		    		required:true,				    			
		    	},
		    	C2P209_MES:{   
		    		valrango:[0,11,99],			    			
		    		required:true,				    			
		    	},
		    	C2P209_DIA:{   
		    		valrango:[0,98,99],			    			
		    		required:true,				    			
		    	},		    	
		    	C2P210:{   
		    		valrango:[1,2,9],			    			
		    	},

		    	C2P211:{   
		    		valrango:[1,2,9],			    			
		    		required:true,				    			
		    	},
		    	C2P212:{   
		    		valrango:[1,5,9],			    			
		    		required:true,				    			
		    	},		
		    	C2P212_OBS:{   	    			
		    	},	
		    	C2P213:{   
		    		valrango:[0,98,99],			    						    			
		    	},	
		    	C2P214:{   
		    		valrango:[0,98,99],			    						    			
		    	},	
		    },

		    messages: {   
			//FIN MESSAGES
		    },
		    errorPlacement: function(error, element) {
		        $(element).next().after(error);
		    },
		    invalidHandler: function(form, validator) {
		      var errors = validator.numberOfInvalids();
		      if (errors) {
		        // var message = errors == 1
		        //   ? 'Por favor corrige estos errores:\n'
		        //   : 'Por favor corrige los ' + errors + ' errores.\n';
		        // var errors = "";
		        // if (validator.errorList.length > 0) {
		        //     for (x=0;x<validator.errorList.length;x++) {
		        //         errors += "\n\u25CF " + validator.errorList[x].message;
		        //     }
		        // }
		        // alert(message + errors);
		        alert("Corregir los errores");
		      }
		      validator.focusInvalid();
		    },
		    submitHandler: function(form) {

				    	var cap2_data = $("#cap2_f").serializeArray();
					    cap2_data.push(
					        {name: 'ajax',value:1}
					    );
						
				        var bcar = $( "#cap2_f :submit" );
				        bcar.attr("disabled", "disabled");
				        $.ajax({
				            url: CI.site_url + "/encuesta/cap2",
				            type:'POST',
				            data:cap2_data,
				            dataType:'json',
				            success:function(json){
								alert(json.msg);
								bcar.removeAttr('disabled');
								$('#ctab2').removeClass('active');
								window.scrollTo(0, 0);
								$('#ctab3 a').trigger('click');								
				            }
				        });     			          	
		    }       
}); 




}); 
</script>